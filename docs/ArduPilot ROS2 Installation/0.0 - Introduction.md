Bu yazılım mimarisi ArduPilot SITL, ROS2, MAVROS, Gazebo Harmonic yazılım paketlerini içermektedir. Bu yazılım mimarisi simülasyon ortamı için geçerli olduğu gibi HITL fiziksel kurulum için de benzer yapıdadadır.

# 1 - Yazılım Araçlarının Tanıtımı
## Ardupilot SITL 
Ardupilot bir uçuş kontrol yazılımıdır. İçerisinde barındırdığı kontrolcüler ile uçuş kontrol kartından gelen sensörleri kullanarak dronun otopilot yazılımı olarak işlev görür. 

Geliştirilen yazılımların fiziksel testlerden önce simülasyon ortamında test edilip onaylanması için Ardupilot SITL (Software In The Loop) kullanılmaktadır. SITL uçuş kontrol kartınden gelen sensörleri simülasyon ortamından alarak Gazebo aracılığı ile simülasyonun gerçekleştirilmesine yardımcı olmaktadır.

## ROS2
ROS2 topic ve service yapılarını kullanarak geliştirilen yazılımlar arasındaki bilgi alışverişi için kolaylık sağlar ve karmaşık yapıları yönetilebilir hale getirir. Robotik alanında yaygın kullanımı bulunmaktadır, ROS1'e olan desteğin sona ermesiyle ROS2 kullanımı teşvik edilmektedir.

Ayrıca RVIZ, RQT gibi araçları ile yazılım geliştirme işlemlerinde kolaylık sağlamaktadır.

## MAVROS
MAVROS bir ROS2 paketidir. MAVLink protokolü aracılığı ile aldığı mesajları ROS topicleri ve serviclerine dönüştürür ve bunların kullanılabilmesini sağlar. ARDUPilot yer kontrol istasyonu ve diğer yazılımlar ile çalışırken MAVLink protokolünü kullanılır. MAVROS ve ROS yapısına alternatif olarak PyMavlink, DroneKit gibi kütüphaneler de bulunmaktadır ancak MAVROS ve ROS yapısının barındırdığı açık kaynak hazır araçlar bu yapıyı daha cazip kılmaktadır.


## Gazebo Harmonic
Gazebo içinde barındırdığı fizik motoru ile bir simülasyon ortamı sunar. Kamera, lidar ve diğer çeşitli sensörleri simülasyon ortamında kullanıma sunar. Ayrıca ROS2 ile olan desteği sayesinde geliştirilen pluginler ile ROS2 ve Gazebo arasındaki iletişim sağlanır ve simülasyondan gelen verilerin kullanılıp tekrardan simülasyon ortamında istenilen hamlelerin gerçekleştirilmesini sağlar.


# ROS Çalışma Mantığı
![[Pasted image 20250922134702.png]]ddf



## Faydalı Kaynaklar
* https://docs.ros.org/en/humble/Tutorials.html : ROS2 Humble için resmi dökümantasyon ve tutorial içerikleri. ROS2 öğrenmek için en iyi kaynak.
* https://ardupilot.org/copter/ : ArduPilot Copter için resmi dökümantasyon. Otopilot yazılımı ve uçuş kontrol kartı hakkında merak edilen her konuya değinilmektedir.
* 